Modernizr.addTest("localstorage",function(){var t="modernizr";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}),showtask();let addTaskInput=document.getElementById("addtaskinput"),addTaskBtn=document.getElementById("addtaskbtn");function slugify(t){return String(t).normalize("NFKD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function showtask(){var t=localStorage.getItem("localtask");taskObj=null==t?[]:JSON.parse(t);let a="";t=document.getElementById("addedtasklist"),taskObj.forEach((t,e)=>{taskCompleteValue=1==t.completeStatus?`<td class="completed">${t.task_name}</td>`:`<td>${t.task_name}</td>`,a+=`<tr>
                    <th scope="row">${e+1}</th>
                    ${taskCompleteValue}
                    <td><button type="button" onclick="edittask(${e})" class="text-primary"><i class="fa fa-edit"></i>Edit</button></td>
                    <td><button type="button" class="text-success" id=${e}><i class="fa fa-check-square-o"></i>Complete</button></td>
                    <td><button type="button" onclick="deleteitem(${e})" class="text-danger"><i class="fa fa-trash"></i>Delete</button></td>
                </tr>`}),t.innerHTML=a}function edittask(t){var e=document.getElementById("saveindex"),a=document.getElementById("addtaskbtn"),s=document.getElementById("savetaskbtn"),e=(e.value=t,localStorage.getItem("localtask")),e=JSON.parse(e);addTaskInput.value=e[t].task_name,a.style.display="none",s.style.display="block"}addTaskBtn.addEventListener("click",function(){var t;0!=(addTaskInputVal=slugify(addTaskInput.value)).trim()&&(t=localStorage.getItem("localtask"),(taskObj=null==t?[]:JSON.parse(t)).push({task_name:addTaskInputVal,completeStatus:!1}),localStorage.setItem("localtask",JSON.stringify(taskObj)),addTaskInput.value=""),showtask()});let saveTaskBtn=document.getElementById("savetaskbtn");function deleteitem(t){var e=localStorage.getItem("localtask");(e=JSON.parse(e)).splice(t,1),localStorage.setItem("localtask",JSON.stringify(e)),showtask()}saveTaskBtn.addEventListener("click",function(){var t=document.getElementById("addtaskbtn"),e=localStorage.getItem("localtask"),a=JSON.parse(e),s=document.getElementById("saveindex").value;for(keys in a[s])"task_name"==keys&&(a[s].task_name=addTaskInput.value);saveTaskBtn.style.display="none",t.style.display="block",localStorage.setItem("localtask",JSON.stringify(a)),addTaskInput.value="",showtask()});let addedtasklist=document.getElementById("addedtasklist"),deleteAllBtn=(addedtasklist.addEventListener("click",function(t){var e=localStorage.getItem("localtask"),a=JSON.parse(e);if("text-success"===(e=t.target).classList[0]){var s=e.getAttribute("id");for(keys in mytargetpresibling=e.parentElement.previousElementSibling.previousElementSibling,a[s])"completeStatus"==keys&&1==a[s][keys]?a[s].completeStatus=!1:"completeStatus"==keys&&0==a[s][keys]&&(a[s].completeStatus=!0);localStorage.setItem("localtask",JSON.stringify(a)),showtask()}}),document.getElementById("deleteallbtn")),searchtextbox=(deleteAllBtn.addEventListener("click",function(){var t=document.getElementById("savetaskbtn"),e=document.getElementById("addtaskbtn"),a=localStorage.getItem("localtask");let s=JSON.parse(a);s=(null!=a&&(s=JSON.parse(a)),[]),t.style.display="none",e.style.display="block",localStorage.setItem("localtask",JSON.stringify(s)),showtask()}),document.getElementById("searchtextbox"));searchtextbox.addEventListener("input",function(){var t=document.querySelectorAll("tr");Array.from(t).forEach(function(t){var e=t.getElementsByTagName("td")[0].innerText,a=searchtextbox.value,a=new RegExp(a,"gi");e.match(a)?t.style.display="table-row":t.style.display="none"})});